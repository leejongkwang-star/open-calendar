# 클라우드 플랫폼 이전 가이드 (Render → AWS/GCP/Azure)

## 📋 개요

현재 프로젝트는 **Render (싱가폴)** 에서 실행 중이며, 성능 최적화를 위해 서울 리전을 제공하는 클라우드 플랫폼으로 이전을 고려하고 있습니다.

**현재 스택:**
- 백엔드: Node.js/Express
- 데이터베이스: Supabase (PostgreSQL)
- ORM: Prisma
- 배포: Render (싱가폴)

---

## 🎯 플랫폼 비교

### 서울 리전 지원 여부

| 플랫폼 | 서울 리전 | 리전 코드 | 지원 서비스 |
|--------|----------|----------|------------|
| **AWS** | ✅ 지원 | `ap-northeast-2` | 모든 서비스 |
| **Google Cloud** | ✅ 지원 | `asia-northeast3` | 모든 서비스 |
| **Microsoft Azure** | ✅ 지원 | `korea-central` | 모든 서비스 |
| **Render** | ❌ 미지원 | - | - |

---

## 1. AWS (Amazon Web Services)

### ✅ 장점
- 가장 광범위한 서비스 포트폴리오
- 안정성과 확장성
- 풍부한 문서와 커뮤니티
- 무료 티어 제공 (12개월)
- 서울 리전 완벽 지원

### ⚠️ 단점
- 초기 설정이 복잡할 수 있음
- 비용 구조가 복잡 (사용량 기반)
- 학습 곡선이 있음

### 🚀 권장 배포 옵션

#### 옵션 1: AWS App Runner (가장 간단) ⭐ 권장
- **장점**: Docker 기반, 자동 스케일링, 서버리스 느낌
- **비용**: 약 $0.007/vCPU/시간 + $0.0008/GB/시간
- **적합성**: Render와 가장 유사한 경험

#### 옵션 2: AWS Elastic Beanstalk
- **장점**: Node.js 직접 지원, 간단한 배포
- **비용**: EC2 인스턴스 비용 (약 $10-30/월)
- **적합성**: 전통적인 PaaS 스타일

#### 옵션 3: AWS EC2 (완전 제어)
- **장점**: 완전한 제어권
- **비용**: t3.micro 무료 티어 또는 $10-30/월
- **적합성**: 세밀한 설정이 필요한 경우

---

## 2. Google Cloud Platform (GCP)

### ✅ 장점
- AI/ML 서비스 강점
- 간단하고 직관적인 UI
- 지속 사용 할인 (Sustained Use Discounts)
- 3개월 무료 크레딧 ($300)
- 서울 리전 완벽 지원

### ⚠️ 단점
- AWS에 비해 서비스 다양성은 낮음
- 커뮤니티가 AWS보다 작음

### 🚀 권장 배포 옵션

#### 옵션 1: Cloud Run (가장 간단) ⭐ 권장
- **장점**: 완전 서버리스, 자동 스케일링, 사용한 만큼만 과금
- **비용**: 요청당 과금 (월 200만 요청 무료, 이후 $0.40/100만 요청)
- **적합성**: Render와 가장 유사한 경험

#### 옵션 2: App Engine
- **장점**: 완전 관리형, 자동 스케일링
- **비용**: 인스턴스 시간당 과금
- **적합성**: 전통적인 PaaS 스타일

#### 옵션 3: Compute Engine
- **장점**: 완전한 제어권
- **비용**: 인스턴스 시간당 과금
- **적합성**: 세밀한 설정이 필요한 경우

---

## 3. Microsoft Azure

### ✅ 장점
- Microsoft 생태계와 통합 용이
- 기업 환경에 친화적
- 하이브리드 클라우드 지원
- 12개월 무료 서비스 + $200 크레딧
- 서울 리전 완벽 지원

### ⚠️ 단점
- AWS/GCP에 비해 오픈소스 생태계 지원이 약함
- 비용 구조가 복잡할 수 있음

### 🚀 권장 배포 옵션

#### 옵션 1: App Service (가장 간단) ⭐ 권장
- **장점**: Node.js 직접 지원, 간단한 배포
- **비용**: Basic Plan 약 $13-55/월
- **적합성**: Render와 가장 유사한 경험

#### 옵션 2: Container Instances
- **장점**: Docker 컨테이너 직접 실행
- **비용**: 사용한 시간만 과금
- **적합성**: 컨테이너 기반 배포

#### 옵션 3: Virtual Machines
- **장점**: 완전한 제어권
- **비용**: 인스턴스 시간당 과금
- **적합성**: 세밀한 설정이 필요한 경우

---

## 💰 비용 비교 (월간 예상)

| 플랫폼 | 서비스 | 예상 비용 | 무료 티어 |
|--------|--------|----------|----------|
| **AWS** | App Runner | $15-30 | 12개월 무료 |
| **AWS** | Elastic Beanstalk (t3.micro) | $10-15 | 12개월 무료 |
| **GCP** | Cloud Run | $5-20 | 200만 요청/월 무료 |
| **GCP** | App Engine | $10-25 | 28시간/일 무료 |
| **Azure** | App Service (Basic) | $13-55 | 12개월 무료 |
| **Render** | (현재) | $0 (무료 티어) | 15분 슬리프 모드 |

> **참고**: 실제 비용은 트래픽에 따라 달라질 수 있습니다.

---

## 🎯 최종 추천 순위

### 1위: **Google Cloud Run** ⭐⭐⭐⭐⭐
- **이유**: 
  - 완전 서버리스로 사용한 만큼만 과금
  - 무료 티어가 충분함 (월 200만 요청)
  - Docker 기반으로 배포가 간단
  - 자동 스케일링
  - 서울 리전 완벽 지원

### 2위: **AWS App Runner** ⭐⭐⭐⭐
- **이유**:
  - Docker 기반으로 배포 간단
  - 안정적인 인프라
  - 풍부한 문서와 커뮤니티
  - 서울 리전 완벽 지원

### 3위: **Azure App Service** ⭐⭐⭐
- **이유**:
  - Node.js 직접 지원
  - 간단한 배포
  - Microsoft 생태계 통합
  - 서울 리전 완벽 지원

---

## 📚 상세 마이그레이션 가이드

다음 섹션에서 각 플랫폼별 상세 마이그레이션 가이드를 확인하세요:

1. [Google Cloud Run 마이그레이션 가이드](#google-cloud-run-마이그레이션)
2. [AWS App Runner 마이그레이션 가이드](#aws-app-runner-마이그레이션)
3. [Azure App Service 마이그레이션 가이드](#azure-app-service-마이그레이션)

---

## ⚠️ 마이그레이션 전 체크리스트

- [ ] 현재 Render 배포 상태 확인
- [ ] 데이터베이스 백업 (Supabase는 별도 관리)
- [ ] 환경 변수 목록 정리
- [ ] 도메인/SSL 설정 확인
- [ ] 테스트 계획 수립
- [ ] 다운타임 허용 범위 확인
- [ ] 롤백 계획 수립

---

## 🔄 마이그레이션 전략

### 전략 1: 블루-그린 배포 (권장)
1. 새 플랫폼에 배포
2. 테스트 및 검증
3. DNS/도메인 전환
4. 모니터링
5. 기존 서비스 종료

### 전략 2: 점진적 마이그레이션
1. 새 플랫폼에 배포
2. 일부 트래픽만 전환
3. 점진적으로 트래픽 증가
4. 완전 전환 후 기존 서비스 종료

---

## 📖 다음 단계

원하는 플랫폼의 상세 가이드를 참고하여 마이그레이션을 진행하세요:

1. **[Google Cloud Run 가이드](./MIGRATION_GCP_CLOUD_RUN.md)** ⭐ 추천
   - 완전 서버리스, 사용한 만큼만 과금
   - 무료 티어: 월 200만 요청
   - Docker 기반 배포

2. **[AWS App Runner 가이드](./MIGRATION_AWS_APP_RUNNER.md)**
   - 안정적인 AWS 인프라
   - Docker 기반 배포
   - 12개월 무료 티어

3. **[Azure App Service 가이드](./MIGRATION_AZURE_APP_SERVICE.md)**
   - Node.js 직접 지원
   - 간단한 Git 배포
   - 12개월 무료 티어 + $200 크레딧

---

## 📊 최종 비교 요약

| 항목 | Google Cloud Run | AWS App Runner | Azure App Service |
|------|-----------------|----------------|-------------------|
| **서울 리전** | ✅ | ✅ | ✅ |
| **배포 방식** | Docker | Docker | Code/Docker |
| **서버리스** | ✅ | ✅ | ⚠️ (부분) |
| **무료 티어** | 월 200만 요청 | 12개월 | 12개월 + $200 |
| **예상 비용** | $5-20/월 | $15-30/월 | $13-55/월 |
| **추천도** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ |

**최종 추천**: **Google Cloud Run** (가장 경제적이고 간단함)

