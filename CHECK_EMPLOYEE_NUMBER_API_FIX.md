# ì§ì›ë²ˆí˜¸ ì¤‘ë³µ í™•ì¸ API ì˜¤ë¥˜ ìˆ˜ì •

## ğŸ” ìˆ˜ì • ë‚´ìš©

### 1. ì—ëŸ¬ ë©”ì‹œì§€ ê°œì„ 
ë°±ì—”ë“œì—ì„œ ë°˜í™˜í•œ êµ¬ì²´ì ì¸ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©ìì—ê²Œ í‘œì‹œí•˜ë„ë¡ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

**ì´ì „:**
```javascript
employeeNumber: 'ì§ì›ë²ˆí˜¸ í™•ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.'
```

**ìˆ˜ì • í›„:**
```javascript
const errorMessage = error.response?.data?.message 
  || error.message 
  || 'ì§ì›ë²ˆí˜¸ í™•ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.'
```

### 2. API ì‘ë‹µ ê²€ì¦ ì¶”ê°€
API ì‘ë‹µ í˜•ì‹ì„ ê²€ì¦í•˜ì—¬ ì˜ˆìƒì¹˜ ëª»í•œ ì‘ë‹µì— ëŒ€í•´ ë” ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

## ğŸ”§ ì¶”ê°€ í™•ì¸ ì‚¬í•­

### ë°±ì—”ë“œ API ì§ì ‘ í…ŒìŠ¤íŠ¸

ë°°í¬ëœ ë°±ì—”ë“œì—ì„œ ì§ì ‘ í…ŒìŠ¤íŠ¸:

```
https://your-backend.onrender.com/api/auth/check-employee-number?employeeNumber=A99120
```

**ì •ìƒ ì‘ë‹µ:**
```json
{"exists": true}
```
ë˜ëŠ”
```json
{"exists": false}
```

**ì—ëŸ¬ ì‘ë‹µ ì˜ˆì‹œ:**
```json
{"message": "ì§ì›ë²ˆí˜¸ëŠ” 6ìë¦¬ ì˜ë¬¸ê³¼ ìˆ«ì ì¡°í•©ì´ì–´ì•¼ í•©ë‹ˆë‹¤."}
```

### ë¸Œë¼ìš°ì € ì½˜ì†” í™•ì¸

1. **F12 ê°œë°œì ë„êµ¬ ì—´ê¸°**
2. **Console íƒ­**ì—ì„œ ì—ëŸ¬ í™•ì¸
3. **Network íƒ­**ì—ì„œ:
   - `/auth/check-employee-number` ìš”ì²­ ì°¾ê¸°
   - ìš”ì²­ URL í™•ì¸
   - ì‘ë‹µ ìƒíƒœ ì½”ë“œ í™•ì¸ (200, 400, 500 ë“±)
   - ì‘ë‹µ ë‚´ìš© í™•ì¸

### ê°€ëŠ¥í•œ ì›ì¸

1. **ë°±ì—”ë“œ ì‘ë‹µ í˜•ì‹ ë¶ˆì¼ì¹˜**
   - ë°±ì—”ë“œê°€ `{ exists: boolean }` ëŒ€ì‹  ë‹¤ë¥¸ í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•  ìˆ˜ ìˆìŒ
   - Prisma ì¿¼ë¦¬ ì‹¤íŒ¨ ì‹œ ë‹¤ë¥¸ í˜•ì‹ì˜ ì‘ë‹µ ê°€ëŠ¥

2. **ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë¬¸ì œ**
   - Renderì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ ëŠë¦¬ê±°ë‚˜ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŒ
   - Prisma í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ë¬¸ì œ

3. **CORS ë¬¸ì œ**
   - ë‹¤ë¥¸ APIëŠ” ì‘ë™í•˜ë¯€ë¡œ ê°€ëŠ¥ì„± ë‚®ìŒ
   - í•˜ì§€ë§Œ ì´ APIë§Œ íŠ¹ì • í—¤ë”ë‚˜ ë©”ì„œë“œ ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆìŒ

4. **íƒ€ì„ì•„ì›ƒ**
   - Render ë¬´ë£Œ í‹°ì–´ëŠ” ëŠë¦´ ìˆ˜ ìˆìŒ
   - ì²« ìš”ì²­ ì‹œ "cold start"ë¡œ ì‘ë‹µ ì§€ì—° ê°€ëŠ¥

## ğŸ“ ë””ë²„ê¹… ë°©ë²•

### ë°±ì—”ë“œ ë¡œê·¸ í™•ì¸

Render ëŒ€ì‹œë³´ë“œì—ì„œ:
1. ì„œë¹„ìŠ¤ ì„ íƒ
2. **Logs** íƒ­ í™•ì¸
3. ì§ì›ë²ˆí˜¸ í™•ì¸ ìš”ì²­ ì‹œ ë¡œê·¸ í™•ì¸

### í”„ë¡ íŠ¸ì—”ë“œ ë””ë²„ê¹…

ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‹¤í–‰:

```javascript
// API í˜¸ì¶œ í…ŒìŠ¤íŠ¸
fetch('https://your-backend.onrender.com/api/auth/check-employee-number?employeeNumber=A99120')
  .then(res => res.json())
  .then(data => console.log('ì‘ë‹µ:', data))
  .catch(err => console.error('ì—ëŸ¬:', err))
```

### ì½”ë“œì— ë””ë²„ê¹… ì¶”ê°€

`frontend/src/pages/SignupPage.jsx`ì—ì„œ:

```javascript
} else {
  console.log('API í˜¸ì¶œ ì‹œì‘:', employeeNumber)
  const response = await authAPI.checkEmployeeNumber(employeeNumber)
  console.log('API ì‘ë‹µ:', response)
  exists = response.exists
}
```

## âœ… ìˆ˜ì • ì™„ë£Œ

- âœ… ë°±ì—”ë“œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©ìì—ê²Œ í‘œì‹œ
- âœ… API ì‘ë‹µ í˜•ì‹ ê²€ì¦ ì¶”ê°€
- âœ… ë” ìì„¸í•œ ì—ëŸ¬ ë¡œê¹…

ì´ì œ ë°±ì—”ë“œì—ì„œ ë°˜í™˜í•œ êµ¬ì²´ì ì¸ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì‚¬ìš©ìì—ê²Œ í‘œì‹œë©ë‹ˆë‹¤.

