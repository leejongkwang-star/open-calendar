# 팀 캘린더 앱 PRD (Product Requirements Document)

## 1. 프로젝트 개요

### 1.1 목적
부서원들 간 휴가 및 기타 일정을 공유할 수 있는 웹 기반 캘린더 애플리케이션을 개발합니다. 모바일과 PC 환경 모두에서 사용 가능하며, 팀 단위로 일정을 관리하고 공유할 수 있습니다.

### 1.2 목표 사용자
- 팀 관리자: 팀 구성원을 관리하고 일정을 조회
- 팀 구성원: 본인의 일정을 등록하고 다른 구성원의 일정을 확인

### 1.3 핵심 가치
- 팀 내 일정 공유로 업무 조율 용이성 향상
- 중복 휴가 방지 및 리소스 관리 최적화
- 모바일/PC 크로스 플랫폼 지원으로 접근성 향상

---

## 2. 기능 요구사항

### 2.1 인증 및 권한 관리

#### 2.1.1 회원가입 화면
**우선순위: 높음**

**기능 설명:**
- 새로운 사용자가 계정을 생성할 수 있다
- 직원번호(사번), 비밀번호, 이름 등의 기본 정보를 입력받는다
- 직원번호 중복 검사 및 비밀번호 강도 검증을 수행한다

**사용자 스토리:**
- 사용자는 직원번호, 비밀번호, 이름을 입력하여 새 계정을 생성할 수 있다
- 사용자는 비밀번호 확인을 통해 입력한 비밀번호가 올바른지 확인할 수 있다
- 사용자는 이미 가입된 직원번호로는 회원가입할 수 없다
- 사용자는 회원가입 후 관리자 승인 대기 상태가 되며, 승인 전까지는 로그인할 수 없다
- 사용자는 회원가입 완료 시 관리자 승인 대기 안내 메시지를 확인할 수 있다

**화면 구성:**
- 이름 입력 필드
- 직원번호(사번) 입력 필드 (실시간 중복 확인)
- 비밀번호 입력 필드
- 비밀번호 확인 입력 필드
- 팀 선택 드롭다운 (필수)
- 직급 입력 필드 (선택)
- 전화번호 입력 필드 (선택)
- 회원가입 버튼
- 로그인 페이지로 이동 링크

**데이터 필드:**
- 이름 (필수)
- 직원번호(사번) (필수, 고유, 6자리 영문+숫자 조합)
- 비밀번호 (필수, 최소 8자 이상)
- 비밀번호 확인 (필수)
- 팀 ID (필수)
- 직급 (선택, 최대 50자)
- 전화번호 (선택, 숫자 및 하이픈 허용)
- 승인 상태 (시스템 자동 설정: pending, approved, rejected)

**검증 규칙:**
- 이름: 2자 이상, 한글/영문/숫자 조합 가능
- 직원번호: 정확히 6자리, 영문과 숫자 조합 필수
- 직원번호 중복 검사 (실시간, Debounce 500ms, 자동 확인)
- 비밀번호: 최소 8자 이상, 영문/숫자/특수문자 조합 권장
- 비밀번호 확인: 비밀번호와 일치 여부 확인
- 팀: 필수 선택
- 직급: 선택, 최대 50자
- 전화번호: 선택, 숫자 및 하이픈 허용
- 필수 필드 입력 검증
- 회원가입 실패 시 에러 메시지 표시

---

#### 2.1.2 로그인 화면
**우선순위: 높음**

**기능 설명:**
- 사용자 직원번호(사번)와 비밀번호를 통한 로그인
- 로그인 상태 유지 기능 (Remember Me)
- 비밀번호 찾기 기능

**사용자 스토리:**
- 사용자는 직원번호와 비밀번호를 입력하여 시스템에 로그인할 수 있다
- 사용자는 로그인 상태를 유지하여 다음 방문 시 자동 로그인할 수 있다
- 사용자는 비밀번호를 분실한 경우 관리자에게 문의하여 재설정할 수 있다
- 사용자는 회원가입 페이지로 이동할 수 있다

**화면 구성:**
- 직원번호(사번) 입력 필드
- 비밀번호 입력 필드
- "로그인 유지" 체크박스
- 로그인 버튼
- 비밀번호 찾기 링크
- 회원가입 링크

**검증 규칙:**
- 직원번호 형식 검증 (6자리 영문+숫자 조합)
- 필수 필드 입력 검증
- 로그인 실패 시 에러 메시지 표시

---

### 2.2 관리자 화면

#### 2.2.1 팀 관리
**우선순위: 높음**

**기능 설명:**
- 관리자는 여러 팀을 생성하고 관리할 수 있다
- 각 팀은 고유한 이름과 설명을 가진다
- 팀별로 구성원을 관리한다

**사용자 스토리:**
- 관리자는 새로운 팀을 생성할 수 있다
- 관리자는 기존 팀의 정보를 수정할 수 있다
- 관리자는 팀을 삭제할 수 있다 (팀에 구성원이 없는 경우만)

**화면 구성:**
- 팀 목록 표시 (테이블 또는 카드 형태)
- 팀 생성 버튼
- 팀 수정/삭제 액션 버튼
- 팀별 구성원 수 표시

---

#### 2.2.2 회원가입 승인 관리
**우선순위: 높음**

**기능 설명:**
- 관리자는 회원가입 대기 중인 사용자 목록을 확인할 수 있다
- 관리자는 회원가입 신청을 승인하거나 거부할 수 있다
- 승인된 사용자만 로그인할 수 있다
- 거부된 사용자는 다시 회원가입할 수 있다

**사용자 스토리:**
- 관리자는 회원가입 대기 목록을 확인할 수 있다
- 관리자는 대기 중인 사용자의 정보(이름, 직원번호, 가입 신청일)를 확인할 수 있다
- 관리자는 회원가입 신청을 승인할 수 있다
- 관리자는 회원가입 신청을 거부할 수 있다 (거부 사유 입력 가능)
- 관리자는 승인/거부 이력을 확인할 수 있다

**화면 구성:**
- 회원가입 승인 대기 탭 또는 섹션
- 대기 중인 사용자 목록 (이름, 직원번호, 가입 신청일)
- 승인/거부 버튼
- 거부 사유 입력 필드 (선택)
- 승인/거부 이력 표시

---

#### 2.2.3 구성원 관리
**우선순위: 높음**

**기능 설명:**
- 관리자는 팀에 구성원을 등록할 수 있다
- 관리자는 구성원 정보를 수정할 수 있다
- 관리자는 구성원을 팀에서 제거할 수 있다
- 구성원은 여러 팀에 속할 수 있다
- 관리자는 구성원 중 특정 인원에게 관리자 권한을 부여할 수 있다
- 관리자는 구성원의 관리자 권한을 변경하거나 제거할 수 있다

**사용자 스토리:**
- 관리자는 팀에 새로운 구성원을 등록할 수 있다
- 관리자는 구성원의 이름, 이메일, 직책 등의 정보를 수정할 수 있다
- 관리자는 구성원을 팀에서 제거할 수 있다
- 관리자는 구성원 목록을 검색하고 필터링할 수 있다
- 관리자는 구성원 중 특정 인원에게 관리자 권한을 부여할 수 있다
- 관리자는 구성원의 관리자 권한을 일반 구성원으로 변경할 수 있다
- 관리자는 구성원의 관리자 권한을 제거할 수 있다
- 관리자는 현재 관리자 권한을 가진 구성원 목록을 확인할 수 있다

**화면 구성:**
- 팀 선택 드롭다운
- 구성원 목록 표시 (이름, 이메일, 직책, 권한, 등록일 등)
- 구성원 추가 버튼
- 구성원 수정/삭제 액션 버튼
- 관리자 권한 부여/변경/제거 버튼 또는 토글
- 관리자 권한 표시 배지 또는 아이콘
- 검색 및 필터링 기능
- 권한별 필터링 기능 (관리자/일반 구성원)

**데이터 필드:**
- 이름 (필수)
- 직원번호(사번) (필수, 고유, 6자리 영문+숫자 조합)
- 팀 ID (필수, 회원가입 시 선택한 팀)
- 직책/직급 (선택, 최대 50자)
- 전화번호 (선택, 숫자 및 하이픈 허용)
- 프로필 사진 (선택, 향후 개발)
- 관리자 권한 (필수: 관리자/일반 구성원)

**검증 규칙:**
- 직원번호 중복 검사
- 직원번호 형식 검증 (6자리 영문+숫자 조합)
- 필수 필드 입력 검증
- 구성원 삭제 시 확인 다이얼로그
- 관리자 권한 부여/변경 시 확인 다이얼로그
- 최소 1명의 관리자는 항상 유지되어야 함 (관리자 권한 제거 시)
- 관리자 권한 변경은 최상위 관리자만 가능하거나, 팀별 관리자도 가능 (정책에 따라 결정)

---

### 2.3 캘린더 화면

#### 2.3.1 일정 조회
**우선순위: 높음** ✅ **구현 완료**

**기능 설명:**
- 사용자는 월별, 주별, 일별 뷰로 캘린더를 조회할 수 있다
- 모든 팀의 일정을 공유하여 확인할 수 있다 (팀 구분 없이 전체 일정 표시)
- 일정은 일정 유형별로 색상 구분이 가능하다
- 반응형 디자인으로 모바일과 PC 모두에서 최적화되어 있다

**사용자 스토리:**
- 사용자는 캘린더에서 본인이 등록한 일정을 확인할 수 있다
- 사용자는 캘린더에서 다른 구성원이 등록한 일정을 확인할 수 있다
- 사용자는 일정을 클릭하여 상세 정보를 확인할 수 있다
- 사용자는 월/주/일 뷰를 전환하여 원하는 형태로 캘린더를 볼 수 있다
- 사용자는 월 뷰에서 날짜를 더블클릭하여 일정 등록 모달을 열 수 있다
- 사용자는 월 뷰에서 날짜를 클릭하여 해당 날짜의 일 뷰로 이동할 수 있다
- 사용자는 월 뷰에서 동일 날짜에 여러 일정이 있을 때 모두 확인할 수 있다

**화면 구성:**
- 캘린더 뷰 (월/주/일 전환 가능, 반응형)
- 일정 목록 표시
- 일정 유형별 색상 구분 (휴가: 파란색, 회의: 초록색, 연수: 주황색, 출장: 청록색, 기타: 보라색)
- 날짜 네비게이션 (이전/다음 월/주/일)
- 오늘 날짜로 이동 버튼
- 필터 패널 (구성원별, 일정 유형별)

**기능 상세:**
- **월별 뷰**: 
  - 그리드 형태의 월간 캘린더
  - 동일 날짜에 여러 일정 표시 (스크롤 가능)
  - 날짜 더블클릭: 일정 등록 모달 열기
  - 날짜 클릭: 해당 날짜의 일 뷰로 이동
  - 최소 높이: 모바일 120px, PC 150px
- **주별 뷰**: 주 단위 타임라인 뷰
- **일별 뷰**: 
  - 하루 단위 상세 타임라인 뷰
  - 겹치는 이벤트 구분 표시 (테두리, 그림자, z-index 조정)
  - 이벤트 hover 시 강조 표시
- **일정 클릭**: 상세 정보 모달 표시 (수정/삭제 가능)
- **반응형 디자인**: 모바일(320px 이상), 태블릿(768px 이상), 데스크톱(1024px 이상)

---

#### 2.3.2 일정 등록
**우선순위: 높음** ✅ **구현 완료**

**기능 설명:**
- 사용자는 휴가, 회의, 연수, 출장, 기타 일정을 등록할 수 있다
- 일정은 제목, 날짜, 시간, 설명, 일정 유형 등을 포함한다
- 등록된 일정은 즉시 다른 구성원에게 표시된다
- 시간대 처리는 UTC로 저장하고 로컬 시간으로 표시한다

**사용자 스토리:**
- 사용자는 새로운 일정을 등록할 수 있다
- 사용자는 일정의 시작일과 종료일을 설정할 수 있다
- 사용자는 일정 유형(휴가, 회의, 연수, 출장, 기타)을 선택할 수 있다
- 사용자는 일정에 설명을 추가할 수 있다
- 사용자는 등록한 일정을 수정하거나 삭제할 수 있다
- 사용자는 더블클릭으로 일정 등록 모달을 열 수 있다
- 사용자는 월 뷰에서 날짜를 클릭하여 해당 날짜의 일 뷰로 이동할 수 있다

**화면 구성:**
- 일정 등록 버튼 (상단 버튼)
- 일정 등록/수정 모달 (반응형 디자인)
- 일정 삭제 기능
- 종일 버튼 (기본 시간 설정: 09:00-18:00)

**데이터 필드:**
- 제목 (필수)
- 시작일 (필수)
- 종료일 (필수)
- 시작 시간 (필수, 기본값: 09:00)
- 종료 시간 (필수, 기본값: 18:00)
- 일정 유형 (필수: 휴가, 회의, 연수, 출장, 기타)
- 설명 (선택)
- 팀 (필수, 팀 선택)

**시간 설정 규칙:**
- **신규 등록 시 기본값**: 시작 시간 09:00, 종료 시간 18:00
- **하루 일정**: 시작 시간은 현재 시간, 종료 시간은 시작 시간 +1시간
- **여러 날 일정**: 시작일 09:00, 종료일 18:00
- **종일 버튼**: 항상 09:00-18:00으로 설정

**시간대 처리:**
- DB에는 UTC로 저장
- 프론트엔드에서는 로컬 시간으로 표시
- 수정 모드에서는 DB 원본 값(UTC)을 기준으로 로컬 시간으로 변환하여 표시

**검증 규칙:**
- 시작일이 종료일보다 이전이어야 함
- 필수 필드 입력 검증
- 일정 수정/삭제는 본인만 가능 (관리자는 모든 일정 수정/삭제 가능)
- 권한 없는 수정 시도 시 403 에러 표시 (로그인 페이지로 리다이렉트하지 않음)

---

#### 2.3.3 일정 필터링
**우선순위: 중간** ✅ **구현 완료**

**기능 설명:**
- 사용자는 특정 구성원의 일정만 필터링하여 볼 수 있다
- 사용자는 일정 유형별로 필터링할 수 있다
- 필터는 실시간으로 적용된다

**사용자 스토리:**
- 사용자는 특정 구성원의 일정만 표시하도록 필터링할 수 있다
- 사용자는 휴가, 회의, 연수, 출장, 기타 등 일정 유형별로 필터링할 수 있다
- 사용자는 여러 필터를 동시에 적용할 수 있다
- 사용자는 필터를 초기화하여 모든 일정을 다시 볼 수 있다

**화면 구성:**
- 필터 패널 (접기/펼치기 가능)
- 구성원 필터 (멀티 셀렉트)
- 일정 유형 필터 (체크박스: 휴가, 회의, 연수, 출장, 기타)
- 필터 초기화 버튼

---

## 3. 비기능 요구사항

### 3.1 성능
- 페이지 로딩 시간: 초기 로딩 3초 이내
- 일정 조회 응답 시간: 1초 이내
- 동시 사용자 지원: 최소 100명

### 3.2 호환성
- **PC 브라우저**: Chrome, Firefox, Safari, Edge (최신 2개 버전)
- **모바일 브라우저**: iOS Safari, Chrome Mobile (최신 2개 버전)
- **반응형 디자인**: 모바일(320px 이상), 태블릿(768px 이상), 데스크톱(1024px 이상)

### 3.3 보안
- 비밀번호 암호화 저장 (bcrypt 또는 유사 알고리즘)
- HTTPS 통신 필수
- 세션 관리 및 타임아웃 처리
- XSS 및 CSRF 방어

### 3.4 접근성
- 키보드 네비게이션 지원
- 스크린 리더 호환성 (ARIA 라벨)
- 색상 대비 비율 준수 (WCAG 2.1 AA)

### 3.5 사용성
- 직관적인 UI/UX
- 모바일 터치 제스처 지원
- 로딩 상태 표시
- 에러 메시지 명확성

---

## 4. 기술 스택 제안

### 4.1 프론트엔드
- **프레임워크**: React 또는 Vue.js
- **상태 관리**: Redux, Zustand, 또는 Pinia
- **UI 라이브러리**: Material-UI, Ant Design, 또는 Tailwind CSS
- **캘린더 라이브러리**: FullCalendar, react-big-calendar, 또는 커스텀 구현
- **반응형**: CSS Grid, Flexbox, 또는 CSS Framework

### 4.2 백엔드
- **언어**: Node.js, Python (Django/FastAPI), 또는 Java (Spring Boot)
- **데이터베이스**: PostgreSQL 또는 MySQL
- **인증**: JWT (JSON Web Token)
- **API**: RESTful API 또는 GraphQL

### 4.3 인프라
- **호스팅**: AWS, Azure, 또는 Vercel/Netlify
- **데이터베이스 호스팅**: AWS RDS, 또는 클라우드 DB 서비스

---

### 4.4 가장 저렴한 기술 스택 제안 (비용 최적화)

**목표**: 초기 개발 및 소규모 운영 시 비용을 최소화하면서도 기능 요구사항을 충족하는 스택

#### 프론트엔드 (무료)
- **프레임워크**: **React** (무료, 오픈소스)
  - 가장 넓은 커뮤니티와 자료
  - 무료 UI 라이브러리 풍부
- **상태 관리**: **Zustand** (무료, 가벼움)
  - Redux보다 설정이 간단하고 가벼움
  - 학습 곡선이 낮음
- **UI 라이브러리**: **Tailwind CSS** (무료)
  - 유틸리티 기반 CSS 프레임워크
  - 커스터마이징 용이, 번들 크기 최적화
  - 또는 **Material-UI (MUI)** 무료 버전 사용
- **캘린더 라이브러리**: **react-big-calendar** (무료, 오픈소스)
  - React 전용, 가벼움
  - 또는 **FullCalendar** 무료 버전
- **빌드 도구**: **Vite** (무료, 빠른 빌드)

#### 백엔드 (무료)
- **런타임**: **Node.js** (무료, 오픈소스)
  - JavaScript로 풀스택 개발 가능 (코드 재사용)
  - 빠른 개발 속도
- **프레임워크**: **Express.js** (무료, 가벼움)
  - 또는 **Fastify** (더 빠른 성능)
  - NestJS는 기능이 많지만 학습 곡선이 높음
- **데이터베이스**: **PostgreSQL** (무료, 오픈소스)
  - 강력한 기능, 무료 호스팅 옵션 많음
  - 또는 **SQLite** (초기 개발용, 파일 기반)
- **ORM**: **Prisma** (무료, 타입 안전성) 또는 **TypeORM** (무료)
- **인증**: **jsonwebtoken** (무료, JWT 구현)
- **API**: **RESTful API** (GraphQL보다 구현이 간단)

#### 인프라 (무료 티어 활용)
- **프론트엔드 호스팅**: **Vercel** (무료 티어)
  - 월 100GB 대역폭, 무제한 요청
  - 자동 배포, HTTPS 무료
  - 또는 **Netlify** (무료 티어)
- **백엔드 호스팅**: **Railway** (무료 크레딧 $5/월)
  - 또는 **Render** (무료 티어, 느리지만 무료)
  - 또는 **Fly.io** (무료 티어)
  - 또는 **Vercel Serverless Functions** (무료 티어)
- **데이터베이스 호스팅**: **Supabase** (무료 티어)
  - PostgreSQL 무료 호스팅
  - 월 500MB 저장공간, 2GB 대역폭
  - 인증 기능 내장 (추가 개발 시간 절약)
  - 또는 **Neon** (무료 티어, PostgreSQL)
  - 또는 **Railway** (무료 크레딧으로 DB 호스팅)
- **도메인**: **Freenom** (무료 도메인) 또는 저렴한 도메인 (.xyz 등)

#### 개발 도구 (무료)
- **버전 관리**: **GitHub** (무료, Private 저장소 무료)
- **CI/CD**: **GitHub Actions** (무료, 월 2,000분)
- **모니터링**: **Sentry** (무료 티어, 에러 추적)
- **로깅**: **Axiom** (무료 티어) 또는 **Logtail** (무료 티어)

#### 예상 월 비용
- **완전 무료 옵션**: $0/월
  - Vercel (프론트엔드) + Render (백엔드) + Supabase (DB)
  - 초기 개발 및 소규모 운영에 적합
- **저렴한 옵션**: $5-10/월
  - Vercel (프론트엔드) + Railway (백엔드) + Supabase (DB)
  - 더 나은 성능과 안정성

#### 추가 비용 절감 팁
1. **초기 개발 단계**: SQLite 사용 (파일 기반, 호스팅 불필요)
2. **정적 자산**: **Cloudflare** (무료 CDN, 무제한 대역폭)
3. **이메일 서비스**: **Resend** (무료 티어, 월 3,000건) 또는 **SendGrid** (무료 티어)
4. **파일 저장**: **Cloudflare R2** (무료 티어, S3 호환) 또는 **Supabase Storage** (무료 티어)

#### 기술 스택 요약 (가장 저렴한 조합)
```
프론트엔드: React + Vite + Tailwind CSS + react-big-calendar
백엔드: Node.js + Express.js + Prisma
데이터베이스: PostgreSQL (Supabase)
인프라: Vercel (프론트) + Vercel Serverless Functions (백엔드) + Supabase (DB)
인증: Supabase Auth 또는 JWT
```

**예상 초기 비용**: $0/월 (무료 티어만 사용 시)

---

## 5. 데이터 모델

### 5.1 사용자 (User)
- id (PK)
- employee_number (직원번호, Unique, 6자리 영문+숫자 조합)
- password (암호화)
- name
- role (admin, member)
- status (승인 상태: pending, approved, rejected)
- rejection_reason (거부 사유, nullable)
- approved_at (승인 일시, nullable)
- approved_by (승인한 관리자 ID, nullable)
- created_at
- updated_at

### 5.2 팀 (Team)
- id (PK)
- name
- description
- created_by (FK → User)
- created_at
- updated_at

### 5.3 팀 구성원 (TeamMember)
- id (PK)
- team_id (FK → Team)
- user_id (FK → User)
- position (직책)
- phone
- profile_image_url
- role (팀 내 권한: admin, member)
- created_at
- updated_at

### 5.4 일정 (Event)
- id (PK)
- title
- description
- start_date (DateTime, UTC로 저장)
- end_date (DateTime, UTC로 저장)
- start_time (DateTime, nullable, 하위 호환성용)
- end_time (DateTime, nullable, 하위 호환성용)
- event_type (EventType enum: VACATION, MEETING, TRAINING, BUSINESS_TRIP, OTHER)
- user_id (FK → User)
- team_id (FK → Team)
- created_at
- updated_at

**참고:**
- 시간은 UTC로 저장되며, 프론트엔드에서 로컬 시간으로 변환하여 표시
- startDate와 endDate에 시간이 포함되어 있음 (startTime, endTime은 하위 호환성용)

---

## 6. 사용자 플로우

### 6.1 회원가입 플로우
1. 사용자가 회원가입 페이지 접근
2. 이름, 직원번호, 비밀번호, 비밀번호 확인 입력
3. 직원번호 중복 검사 (실시간 또는 제출 시)
4. 회원가입 버튼 클릭
5. 검증 통과 시 계정 생성 (상태: pending)
6. 관리자 승인 대기 안내 메시지 표시
7. 로그인 페이지로 이동 안내
8. 검증 실패 시 에러 메시지 표시

### 6.2 관리자 승인 플로우
1. 관리자가 관리자 화면의 "회원가입 승인" 탭 접근
2. 승인 대기 중인 사용자 목록 확인
3. 사용자 정보(이름, 직원번호, 가입 신청일) 확인
4. 승인 또는 거부 선택
5. (거부 시) 거부 사유 입력 (선택)
6. 확인 버튼 클릭
7. 승인된 사용자는 로그인 가능, 거부된 사용자는 재가입 필요

### 6.3 로그인 플로우
1. 사용자가 로그인 페이지 접근
2. 직원번호와 비밀번호 입력
3. 로그인 버튼 클릭
4. 승인 상태 확인 (approved만 로그인 가능)
5. 승인되지 않은 경우 승인 대기 안내 메시지 표시
6. 승인된 사용자는 캘린더 화면으로 이동
7. 인증 실패 시 에러 메시지 표시

### 6.4 일정 등록 플로우
1. 사용자가 캘린더 화면에서 일정 등록 버튼 클릭 또는 날짜 더블클릭
2. 일정 등록 폼 입력 (제목, 날짜, 시간, 유형, 팀 등)
   - 기본 시간: 09:00-18:00 (종일 설정)
   - 하루 일정: 현재 시간 +1시간
   - 여러 날 일정: 시작일 09:00, 종료일 18:00
3. 저장 버튼 클릭
4. 로컬 시간이 UTC로 변환되어 DB에 저장
5. 일정이 캘린더에 즉시 표시됨 (로컬 시간으로 변환하여 표시)
6. 다른 구성원도 실시간으로 확인 가능

### 6.7 일정 수정 플로우
1. 사용자가 캘린더에서 일정 클릭
2. 일정 수정 모달 표시 (DB 원본 값 기준으로 로컬 시간으로 변환하여 표시)
3. 수정할 내용 입력
4. 저장 버튼 클릭
5. 권한 확인 (본인 또는 관리자만 수정 가능)
6. 권한 없는 경우 403 에러 표시 (로그인 페이지로 리다이렉트하지 않음)
7. 수정된 일정이 캘린더에 즉시 반영됨

### 6.8 캘린더 인터랙션 플로우
1. **월 뷰에서 날짜 더블클릭**: 일정 등록 모달 열기
2. **월 뷰에서 날짜 클릭**: 해당 날짜의 일 뷰로 이동
3. **일정 클릭**: 일정 수정 모달 열기
4. **일 뷰에서 겹치는 이벤트**: 테두리, 그림자, z-index로 구분 표시

### 6.5 구성원 관리 플로우 (관리자)
1. 관리자가 관리자 화면 접근
2. 팀 선택
3. 구성원 추가 버튼 클릭
4. 구성원 정보 입력
5. 저장 후 구성원 목록에 추가됨

### 6.6 관리자 권한 관리 플로우
1. 관리자가 관리자 화면 접근
2. 팀 선택
3. 구성원 목록에서 관리자 권한을 부여할 구성원 선택
4. 관리자 권한 부여 버튼 클릭 또는 권한 토글 활성화
5. 확인 다이얼로그에서 확인
6. 구성원의 권한이 관리자로 변경됨
7. (권한 변경/제거 시) 관리자가 구성원의 권한을 변경하거나 제거할 수 있음
8. 최소 1명의 관리자가 유지되는지 검증

---

## 7. 우선순위 및 개발 단계

### Phase 1 (MVP - 최소 기능 제품) ✅ **구현 완료**
1. ✅ 회원가입 화면
2. ✅ 로그인 화면
3. ✅ 회원가입 승인 관리 (관리자)
4. ✅ 기본 캘린더 화면 (월별/주별/일별 뷰)
5. ✅ 일정 등록/수정/삭제
6. ✅ 팀 및 구성원 관리 (관리자)
7. ✅ 구성원 관리자 권한 부여/변경/제거 기능
8. ✅ 일정 필터링 기능 (구성원별, 일정 유형별)
9. ✅ 반응형 디자인 (모바일/PC 최적화)
10. ✅ 시간대 처리 (UTC 저장, 로컬 시간 표시)
11. ✅ 일정 유형 확장 (휴가, 회의, 연수, 출장, 기타)
12. ✅ 캘린더 인터랙션 (더블클릭 등록, 날짜 클릭 일 뷰 이동)
13. ✅ 일 뷰 이벤트 구분 표시 (겹치는 이벤트)
14. ✅ 권한 관리 (403 에러 처리)
15. ✅ 모든 팀 일정 공유 (팀 구분 없이 전체 일정 표시)

### Phase 2 (향후 개발)
1. 비밀번호 찾기 기능
2. 일정 알림 기능
3. 일정 내보내기 (iCal, CSV)
4. 일정 검색 기능
5. 일정 통계 및 리포트
6. 캘린더 공유 기능

### Phase 3 (향후 개발)
1. 다국어 지원
2. 다크 모드
3. 일정 템플릿 기능
4. 반복 일정 기능
5. 일정 댓글 기능

---

## 8. 성공 지표

### 8.1 사용성 지표
- 일일 활성 사용자 수 (DAU)
- 주간 활성 사용자 수 (WAU)
- 일정 등록 수
- 사용자당 평균 일정 수

### 8.2 성능 지표
- 평균 페이지 로딩 시간
- API 응답 시간
- 에러 발생률

### 8.3 사용자 만족도
- 사용자 피드백 점수
- 기능 요청 수
- 버그 리포트 수

---

## 9. 제약사항 및 가정

### 9.1 제약사항
- 초기 버전은 단일 조직/회사 내에서만 사용
- 실시간 동기화는 폴링 방식으로 구현 (WebSocket은 Phase 2 이후 고려)
- 파일 첨부 기능은 Phase 2 이후 고려

### 9.2 가정
- 모든 사용자는 인터넷 연결이 안정적임
- 사용자는 기본적인 웹 브라우저 사용 능력을 보유
- 팀 크기는 평균 10-50명

---

## 10. 부록

### 10.1 용어 정의
- **관리자**: 팀 및 구성원을 관리할 수 있는 권한을 가진 사용자. 구성원 등록/삭제, 관리자 권한 부여/변경/제거 등의 기능을 사용할 수 있음
- **일반 구성원**: 팀에 속한 일반 사용자. 일정 등록 및 조회 기능을 사용할 수 있음
- **구성원**: 팀에 속한 모든 사용자 (관리자 및 일반 구성원 포함)
- **관리자 권한**: 팀 내에서 구성원 관리 및 권한 관리 기능을 사용할 수 있는 권한
- **일정**: 캘린더에 등록되는 휴가, 회의 등의 이벤트
- **팀**: 일정을 공유하는 사용자 그룹

### 10.2 참고 자료
- 캘린더 UI/UX 베스트 프랙티스
- 웹 접근성 가이드라인 (WCAG 2.1)
- RESTful API 설계 원칙

---

---

## 11. 구현 완료 기능 상세

### 11.1 시간대 처리
- **DB 저장**: UTC 형식으로 저장
- **프론트엔드 표시**: 로컬 시간으로 자동 변환하여 표시
- **수정 모드**: DB 원본 값(UTC)을 기준으로 로컬 시간으로 변환하여 표시
- **일정 등록**: 로컬 시간을 UTC로 변환하여 저장

### 11.2 일정 유형
- **휴가 (VACATION)**: 파란색 표시
- **회의 (MEETING)**: 초록색 표시
- **연수 (TRAINING)**: 주황색 표시
- **출장 (BUSINESS_TRIP)**: 청록색 표시
- **기타 (OTHER)**: 보라색 표시

### 11.3 캘린더 인터랙션
- **더블클릭**: 월 뷰에서 날짜 더블클릭 시 일정 등록 모달 열기
- **단일 클릭**: 월 뷰에서 날짜 클릭 시 해당 날짜의 일 뷰로 이동
- **이벤트 클릭**: 일정 클릭 시 수정 모달 열기

### 11.4 일정 표시 개선
- **월 뷰**: 동일 날짜에 여러 일정 표시 (스크롤 가능, 최소 높이 확보)
- **일 뷰**: 겹치는 이벤트 구분 표시 (테두리, 그림자, z-index 조정)
- **이벤트 hover**: hover 시 강조 표시 (테두리 두껍게, 그림자 강화)

### 11.5 반응형 디자인
- **모바일 (320px 이상)**: 
  - 캘린더 폰트 크기 12px
  - 버튼 전체 너비
  - 그리드 1열 레이아웃
  - 모달 최대 높이 95vh
- **PC (640px 이상)**:
  - 캘린더 폰트 크기 14px
  - 버튼 자동 너비
  - 그리드 2열 레이아웃
  - 모달 최대 높이 90vh

### 11.6 권한 관리
- **일정 수정/삭제**: 본인 또는 관리자만 가능
- **403 에러 처리**: 권한 없는 수정 시도 시 에러 메시지 표시 (로그인 페이지로 리다이렉트하지 않음)
- **팀별 일정 공유**: 모든 팀의 일정을 공유하여 표시 (팀 구분 없이 전체 일정 표시)

### 11.7 일정 등록 기본값
- **신규 등록**: 시작 시간 09:00, 종료 시간 18:00
- **하루 일정**: 시작 시간은 현재 시간, 종료 시간은 시작 시간 +1시간
- **여러 날 일정**: 시작일 09:00, 종료일 18:00
- **종일 버튼**: 항상 09:00-18:00으로 설정

### 11.8 회원가입 기능 확장
- **팀 선택**: 회원가입 시 팀 선택 필수
- **직급 입력**: 직급 정보 입력 가능 (선택)
- **전화번호 입력**: 전화번호 입력 가능 (선택)
- **직원번호 중복 확인**: Debounce 500ms, 자동 확인, 로딩 표시

### 11.9 일정 연락 기능
- **SMS 메시지**: 일정 팝업에서 일정 등록자에게 SMS 메시지 전송 가능
- **메시지 템플릿**: 일정 제목과 날짜가 포함된 기본 메시지 자동 생성
- **자기 자신 제한**: 자신에게는 메시지를 보낼 수 없음

### 11.10 성능 최적화
- **프로덕션 로깅**: 개발 환경에서만 console.log 출력
- **React 최적화**: useCallback, useMemo를 활용한 불필요한 재렌더링 방지
- **Prisma 쿼리 최적화**: select를 통한 필요한 필드만 조회
- **에러 처리**: 프로덕션 환경에서 불필요한 에러 로그 제거

---

**문서 버전**: 2.1  
**작성일**: 2024년  
**최종 수정일**: 2025년 12월

